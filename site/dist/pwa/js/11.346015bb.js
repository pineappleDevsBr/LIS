(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{cc26:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"m-spotlight m-friends_spotlight"},[s("img",{staticClass:"m-spotlight_icon",attrs:{src:"statics/hub/bracelet.svg",alt:"Friends"}}),t._v("\n    "+t._s(t.$t("hub.title"))+"\n    "),s("div",{staticClass:"m-friends_search"},[s("q-btn",{staticClass:"m-friends_search-btn",attrs:{"no-caps":"",flat:"",label:t.$t("hub.search.title")},on:{click:t.searchOpen}}),s("q-btn",{staticClass:"m-friends_search-btn",attrs:{"no-caps":"",flat:"",label:t.$t("hub.invitation")},on:{click:t.invitation}})],1)]),t.getInvites.length>0?s("div",[s("h2",{staticClass:"m-friends_title"},[t._v(t._s(t.$t("hub.requests")))]),t.getInvites?s("div",t._l(t.getInvites,(function(e){return s("q-card",{key:e.id,staticClass:"m-card"},[s("q-card-section",{staticClass:"m-friends_card"},[s("div",{staticClass:"m-friends_profile"},[s("img",{staticClass:"m-friends_avatar",attrs:{src:"https://api.adorable.io/avatars/75/"+e.avatar,alt:"adorable avatar"}}),s("div",[s("h2",{staticClass:"m-friends_username q-dark_title"},[t._v(t._s(e.name))]),s("p",{staticClass:"m-friends_level"},[t._v(t._s(t.$t("hub.level"))+": "+t._s(e.level.level?e.level.level:1))]),s("p",{staticClass:"m-friends_xp"},[t._v(t._s(e.xp)+"XP")])])]),s("div",[s("div",{staticClass:"m-friends_confirm"},[s("q-btn",{staticClass:"m-friends_confirm-btn",attrs:{round:"",color:"accent",icon:"done"},on:{click:function(s){return t.acceptFriendship(e.invite_id,!0,e.name)}}}),s("q-btn",{staticClass:"m-friends_confirm-btn",attrs:{round:"",color:"negative",icon:"close"},on:{click:function(s){return t.acceptFriendship(e.invite_id,!1,e.name)}}})],1)])])],1)})),1):s("div",t._l(2,(function(t){return s("q-card",{key:t,staticClass:"m-skeleton"},[s("q-card-section",{staticClass:"m-friends_card"},[s("div",{staticClass:"m-friends_profile"},[s("q-skeleton",{staticClass:"m-skeleton_avatar",attrs:{type:"QAvatar"}}),s("div",[s("q-skeleton",{staticClass:"m-skeleton_title",attrs:{type:"text"}}),s("q-skeleton",{staticClass:"m-skeleton_subtitle",attrs:{type:"text"}}),s("q-skeleton",{staticClass:"m-skeleton_subtitle",attrs:{type:"text"}})],1)],1),s("div",{staticClass:"m-friends_confirm"},[s("q-skeleton",{staticClass:"m-skeleton_btn-round",attrs:{type:"circle"}}),s("q-skeleton",{staticClass:"m-skeleton_btn-round",attrs:{type:"circle"}})],1)])],1)})),1)]):t._e(),s("h2",{staticClass:"m-friends_title"},[t._v(t._s(t.$t("hub.myFriends")))]),t.getFriends?s("div",t._l(t.getFriends,(function(e){return s("q-card",{key:e.id,staticClass:"m-card",on:{click:function(s){return t.viewFriend(e.id)}}},[s("q-card-section",{staticClass:"m-friends_card"},[s("div",{staticClass:"m-friends_profile"},[s("img",{staticClass:"m-friends_avatar",attrs:{src:"https://api.adorable.io/avatars/75/"+e.avatar,alt:"adorable avatar"}}),s("div",[s("h2",{staticClass:"m-friends_username q-dark_title"},[t._v(t._s(e.name))]),s("p",{staticClass:"m-friends_level"},[t._v(t._s(t.$t("hub.level"))+": "+t._s(e.level.level?e.level.level:1))]),s("p",{staticClass:"m-friends_xp"},[t._v(t._s(e.xp)+"XP")])])]),s("div",[s("img",{staticClass:"m-friends_nationality",attrs:{src:"statics/nationalities/"+e.nationality_id+".svg",alt:"Nacionalidade"}})])])],1)})),1):s("div",t._l(2,(function(t){return s("q-card",{key:t,staticClass:"m-skeleton"},[s("q-card-section",{staticClass:"m-friends_card"},[s("div",{staticClass:"m-friends_profile"},[s("q-skeleton",{staticClass:"m-skeleton_avatar",attrs:{type:"QAvatar"}}),s("div",[s("q-skeleton",{staticClass:"m-skeleton_title",attrs:{type:"text"}}),s("q-skeleton",{staticClass:"m-skeleton_subtitle",attrs:{type:"text"}}),s("q-skeleton",{staticClass:"m-skeleton_subtitle",attrs:{type:"text"}})],1)],1),s("div",[s("q-skeleton",{staticClass:"m-skeleton_flag"})],1)])],1)})),1),s("q-dialog",{attrs:{position:"bottom"},model:{value:t.inviteOpen,callback:function(e){t.inviteOpen=e},expression:"inviteOpen"}},[s("q-card",[s("q-card-section",{staticClass:"m-friend_invite"},[s("h3",{staticClass:"m-friends_title"},[t._v(t._s(t.$t("hub.invite.title")))]),s("p",{staticClass:"a-text"},[t._v(t._s(t.$t("hub.invite.text")))]),s("p",{staticClass:"a-text"},[t._v(t._s(t.$t("hub.invite.obs")))]),s("div",{staticClass:"flex"},[s("q-tooltip",{attrs:{anchor:"top middle",self:"bottom middle",offset:[10,10],"content-class":"bg-primary","content-style":"font-size: 14px"},model:{value:t.alertCopy,callback:function(e){t.alertCopy=e},expression:"alertCopy"}},[t._v("\n            "+t._s(t.$t("hub.invite.alert"))+"\n          ")])],1),s("q-btn",{staticClass:"m-friends_invite-copy",attrs:{"no-caps":"",flat:"",rounded:""},on:{click:function(e){return t.copy(t.baseURL+"/#/profile/"+t.getUser.id)}}},[s("strong",[t._v(t._s(t.$t("hub.invite.invitation"))+":Â ")]),s("span",{staticClass:"-link"},[t._v(t._s(t.baseURL+"/#/profile/"+t.getUser.id))])]),s("img",{staticClass:"m-friends_invite-ilustra",attrs:{src:"statics/hub/invite.png",alt:"Invite ilustra"}})],1)],1)],1),s("searchFriend",{attrs:{search:t.search,list:t.searchAll},on:{closeSearch:t.closeSearch}})],1)},i=[],n=(s("8e6e"),s("8a81"),s("ac6a"),s("cadf"),s("06db"),s("456d"),s("c47a")),r=s.n(n),c=(s("386d"),s("967e")),l=s.n(c),o=(s("96cf"),s("fa84")),d=s.n(o),u=s("2f62"),p=s("4360"),f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-dialog",{attrs:{persistent:"",maximized:!0,"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[s("div",{staticClass:"o-modal bg-white",class:{"q-dark":t.$q.dark.isActive}},[s("div",{staticClass:"o-modal_header bg-primary",class:{"q-dark":t.$q.dark.isActive}},[s("h2",{staticClass:"o-modal_title"},[t._v(t._s(t.$t("hub.search.title")))]),s("q-btn",{attrs:{flat:"",icon:"close"},on:{click:t.closeSearch}})],1),s("div",{staticClass:"o-modal_content"},[s("q-form",{staticClass:"m-search_search",on:{submit:t.searchFriend}},[s("q-input",{staticClass:"m-search_input",attrs:{dense:"",label:t.$t("hub.search.input")},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),s("q-btn",{staticClass:"m-search_btn-round",attrs:{round:"",icon:"search",type:"submit"}})],1),s("h2",{staticClass:"m-search_title"},[t._v(t._s(t.$t("hub.search.friends")))]),s("div",t._l(t.friendList,(function(e){return s("q-card",{key:e.id,staticClass:"m-card"},[s("q-card-section",{staticClass:"m-friends_card"},[s("div",{staticClass:"m-friends_profile"},[s("img",{staticClass:"m-friends_avatar",attrs:{src:"https://api.adorable.io/avatars/75/"+e.avatar,alt:"adorable avatar"}}),s("div",[s("h2",{staticClass:"m-friends_username q-dark_title"},[t._v(t._s(e.name))]),s("p",{staticClass:"m-friends_level"},[t._v(t._s(t.$t("hub.search.level"))+": "+t._s(e.level.level?e.level.level:1))]),s("p",{staticClass:"m-friends_xp"},[t._v(t._s(e.xp)+"XP")])])]),s("div",[s("div",{staticClass:"m-friends_confirm"},[s("q-btn",{staticClass:"m-search_btn",attrs:{"no-caps":"",rounded:"",label:t.$t("hub.search.profile")},on:{click:function(s){return t.viewFriend(e.id)}}})],1)])])],1)})),1)],1),0===t.searchFilter.length?s("q-btn",{staticClass:"m-search_btn",attrs:{"no-caps":"",rounded:"",label:t.$t("hub.search.loadMore")},on:{click:function(e){return t.loadMore()}}}):s("q-btn",{staticClass:"m-search_btn",attrs:{"no-caps":"",rounded:"",label:t.$t("hub.search.viewAll")},on:{click:function(e){t.searchFilter=[]}}})],1)])},v=[],h={name:"SearchFriend",props:{search:Boolean,list:Array},data:function(){return{page:1,filter:"",searchFilter:[]}},methods:{viewFriend:function(t){this.$router.push("/profile/".concat(t))},searchFriend:function(){var t=this;return d()(l.a.mark((function e(){var s;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(p["a"])().dispatch("friends/search",t.filter);case 2:s=e.sent,t.searchFilter=s;case 4:case"end":return e.stop()}}),e)})))()},loadMore:function(){var t=this;return d()(l.a.mark((function e(){return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.page+=1,e.next=3,Object(p["a"])().dispatch("friends/searchAll",t.page);case 3:case"end":return e.stop()}}),e)})))()},closeSearch:function(){var t=this;return d()(l.a.mark((function e(){return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.page=1,t.$emit("closeSearch"),e.next=4,Object(p["a"])().dispatch("friends/cleanList");case 4:case"end":return e.stop()}}),e)})))()}},computed:{friendList:function(){return this.searchFilter.length>0?this.searchFilter:this.list}}},m=h,_=s("2877"),b=s("eebe"),C=s.n(b),k=s("24e8"),g=s("9c40"),y=s("0378"),q=s("27f9"),w=s("f09f"),x=s("a370"),O=Object(_["a"])(m,f,v,!1,null,null,null),$=O.exports;function j(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function F(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?j(Object(s),!0).forEach((function(e){r()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):j(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}C()(O,"components",{QDialog:k["a"],QBtn:g["a"],QForm:y["a"],QInput:q["a"],QCard:w["a"],QCardSection:x["a"]});var Q={name:"Hub",components:{searchFriend:$},data:function(){return{page:1,baseURL:"http://18.217.115.80",alertCopy:!1,search:!1,inviteOpen:!1}},methods:{viewFriend:function(t){this.$router.push("/profile/".concat(t))},acceptFriendship:function(t,e,s){var a=this;return d()(l.a.mark((function i(){var n,r;return l.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n={invite_id:t,selection:e},i.next=3,Object(p["a"])().dispatch("friends/acceptInvites",n);case 3:return r=i.sent,i.next=6,Object(p["a"])().dispatch("friends/getFriends");case 6:"confirmed"===r.status?a.$q.notify({color:"positive",message:"".concat(a.$t("hub.invite.notify.confirmed1")," ").concat(s," ").concat(a.$t("hub.invite.notify.confirmed2")),icon:"sentiment_satisfied_alt"}):"pending"===r.status?a.$q.notify({color:"amber-8",message:"".concat(s," ").concat(a.$t("hub.invite.notify.pending")),icon:"sentiment_dissatisfied"}):a.$q.notify({color:"negative",message:"Ocorreu algum erro ao ".concat(e?"aceitar":"recusar"," a amizade!"),icon:"report_problem"});case 7:case"end":return i.stop()}}),i)})))()},invitation:function(){this.inviteOpen=!0},copy:function(t){var e=this;this.alertCopy=!0;var s=t,a=document.createElement("input");a.value=s,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a),setTimeout((function(){e.alertCopy=!1}),1500),setTimeout((function(){e.inviteOpen=!1}),2e3)},searchOpen:function(){var t=this;return d()(l.a.mark((function e(){return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(p["a"])().dispatch("friends/cleanList");case 2:return e.next=4,Object(p["a"])().dispatch("friends/searchAll",t.page);case 4:t.search=!0;case 5:case"end":return e.stop()}}),e)})))()},closeSearch:function(){var t=this;return d()(l.a.mark((function e(){return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.search=!1;case 1:case"end":return e.stop()}}),e)})))()}},computed:F(F(F(F({},Object(u["b"])("friends",["getFriends"])),Object(u["b"])("friends",["getInvites"])),Object(u["b"])("friends",["searchAll"])),Object(u["b"])("user",["getUser"])),mounted:function(){return d()(l.a.mark((function t(){return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(p["a"])().dispatch("friends/getFriends");case 2:return t.next=4,Object(p["a"])().dispatch("user/getUser");case 4:case"end":return t.stop()}}),t)})))()}},S=Q,P=s("293e"),A=s("05c0"),I=Object(_["a"])(S,a,i,!1,null,null,null);e["default"]=I.exports;C()(I,"components",{QBtn:g["a"],QCard:w["a"],QCardSection:x["a"],QSkeleton:P["a"],QDialog:k["a"],QTooltip:A["a"]})}}]);